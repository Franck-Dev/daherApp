"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6034],{6034:(N,g,i)=>{i.r(g),i.d(g,{LoginPageModule:()=>L});var d=i(6019),r=i(9010),n=i(2651),l=i(430),m=i(4762),c=i(8260),e=i(865),p=i(134);const f=["userName"],h=["password"],v=function(){return["/register"]},y=[{path:"",component:(()=>{class t{constructor(o,s,a,P,A){this.authService=o,this.formBuilder=s,this.router=a,this.alertController=P,this.loadingController=A,this.loginForm=this.formBuilder.group({userName:["",r.kI.required],password:[""]})}ngAfterViewInit(){console.log(c.N),c.N.production&&(this.userName.value="204292",this.password.value=""),this.userName.value="",this.password.value=""}ngOnInit(){}onSubmit(){return(0,m.mG)(this,void 0,void 0,function*(){const o=yield this.loadingController.create({cssClass:"my-custom-class",message:"Patienter pendant la connexion",spinner:"lines-sharp"});yield o.present(),this.authService.authenticate(this.loginForm.get("userName").value,this.loginForm.get("password").value||this.loginForm.get("userName").value).then(()=>{this.router.navigate(["/home"]),this.loginForm.reset()},()=>{this.presentAlertLoginError()}).finally(()=>{o.dismiss()})})}presentAlertLoginError(){return(0,m.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Erreur d'authentification",message:"Le nom d'utilisateur ou votre mot de passe n'est pas correct",buttons:[{text:"Fermer",role:"cancel",id:"cancel-button"}]})).present()})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(p.e),e.Y36(r.qu),e.Y36(l.F0),e.Y36(n.Br),e.Y36(n.HT))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],viewQuery:function(o,s){if(1&o&&(e.Gf(f,5),e.Gf(h,5)),2&o){let a;e.iGM(a=e.CRH())&&(s.userName=a.first),e.iGM(a=e.CRH())&&(s.password=a.first)}},decls:22,vars:5,consts:[[3,"fullscreen"],["fixed","",1,"full-height","ion-align-items-center","ion-justify-content-center"],[3,"formGroup","ngSubmit","keyup.enter"],["position","floating"],["color","danger"],["autocapitalize","on","required","","formControlName","userName","type","text","autocomplete","off","autofocus","true","inputmode","numeric","value",""],["userName",""],["formControlName","password","type","password","value",""],["password",""],["block","","color","primary","type","submit",3,"disabled"],["fill","clear",3,"routerLink"]],template:function(o,s){1&o&&(e.TgZ(0,"ion-content",0),e.TgZ(1,"ion-grid",1),e.TgZ(2,"ion-row"),e.TgZ(3,"form",2),e.NdJ("ngSubmit",function(){return s.onSubmit()})("keyup.enter",function(){return s.onSubmit()}),e.TgZ(4,"ion-item"),e.TgZ(5,"ion-label",3),e._uU(6,"Nom d'utilisateur "),e.TgZ(7,"ion-text",4),e._uU(8,"*"),e.qZA(),e.qZA(),e._UZ(9,"ion-input",5,6),e.qZA(),e.TgZ(11,"ion-item"),e.TgZ(12,"ion-label",3),e._uU(13,"Password "),e.TgZ(14,"ion-text",4),e._uU(15,"*"),e.qZA(),e.qZA(),e._UZ(16,"ion-input",7,8),e.qZA(),e.TgZ(18,"ion-button",9),e._uU(19," Se connecter "),e.qZA(),e.TgZ(20,"ion-button",10),e._uU(21," Cr\xe9er un compte "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.Q6J("fullscreen",!0),e.xp6(3),e.Q6J("formGroup",s.loginForm),e.xp6(15),e.Q6J("disabled",s.loginForm.invalid),e.xp6(2),e.Q6J("routerLink",e.DdM(4,v)))},directives:[n.W2,n.jY,n.Nd,r._Y,r.JL,r.sg,n.Ie,n.Q$,n.yW,n.pK,n.j9,r.Q7,r.JJ,r.u,n.YG,n.YI,l.rH],styles:[".full-height[_ngcontent-%COMP%]{height:100%;display:flex!important}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.Bz.forChild(y)],l.Bz]}),t})(),L=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.ez,r.u5,n.Pc,Z,r.UX]]}),t})()}}]);