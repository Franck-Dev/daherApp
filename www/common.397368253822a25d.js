"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{9318:(_,m,r)=>{r.d(m,{i:()=>e});const e=g=>g&&""!==g.dir?"rtl"===g.dir.toLowerCase():"rtl"===(null==document?void 0:document.dir.toLowerCase())},3620:(_,m,r)=>{r.r(m),r.d(m,{startFocusVisible:()=>c});const e="ion-focused",d=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],c=h=>{let l=[],u=!0;const n=h?h.shadowRoot:document,i=h||document.body,a=w=>{l.forEach(v=>v.classList.remove(e)),w.forEach(v=>v.classList.add(e)),l=w},t=()=>{u=!1,a([])},o=w=>{u=d.includes(w.key),u||a([])},s=w=>{if(u&&w.composedPath){const v=w.composedPath().filter(A=>!!A.classList&&A.classList.contains("ion-focusable"));a(v)}},f=()=>{n.activeElement===i&&a([])};return n.addEventListener("keydown",o),n.addEventListener("focusin",s),n.addEventListener("focusout",f),n.addEventListener("touchstart",t),n.addEventListener("mousedown",t),{destroy:()=>{n.removeEventListener("keydown",o),n.removeEventListener("focusin",s),n.removeEventListener("focusout",f),n.removeEventListener("touchstart",t),n.removeEventListener("mousedown",t)},setFocus:a}}},8107:(_,m,r)=>{r.d(m,{a:()=>e,b:()=>n,c:()=>g,d:()=>h,e:()=>i,f:()=>u,g:()=>l,h:()=>c,i:()=>d});const e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>"},9922:(_,m,r)=>{r.d(m,{e:()=>h});var e=r(4522),g=r(8260),d=r(865);const c=[{referenceSAP:7172242,designationSAP:"test Kit",idMM:"53454323-1",lotSAP:"",timeOut:12.456,tackLife:123.456,aCuirAv:new Date(2022,1,12),aDrapAv:new Date(2022,1,12),decongel:new Date,peremptionMoins18:new Date(2022,0,12)},{referenceSAP:7172345,designationSAP:"test Kit 2",idMM:"5348949-1",lotSAP:"",timeOut:12.456,tackLife:123.456,aCuirAv:new Date(2022,1,12),aDrapAv:new Date(2022,1,9),decongel:new Date,peremptionMoins18:new Date(2022,2,12)},{referenceSAP:7174567,designationSAP:"test Kit 3",idMM:"5343449-1",lotSAP:"",timeOut:12.456,tackLife:123.456,aCuirAv:new Date(2022,0,31),aDrapAv:new Date(2022,0,28),decongel:new Date,peremptionMoins18:new Date(2022,2,12)},{referenceSAP:7174567,designationSAP:"test Kit 4",idMM:"5379449-1",lotSAP:"",timeOut:12.456,tackLife:123.456,aCuirAv:new Date(2022,0,12),aDrapAv:new Date(2022,0,31),decongel:new Date,peremptionMoins18:new Date(2022,2,12)},{referenceSAP:7174567,designationSAP:"test Kit 5",idMM:"5337249-1",lotSAP:"",timeOut:12.456,tackLife:123.456,aCuirAv:new Date(2022,0,31),aDrapAv:new Date(2022,0,21),decongel:new Date,peremptionMoins18:new Date(2022,1,12)}];let h=(()=>{class l{constructor(n){this.http=n}getKitById(n){return new Promise((i,a)=>{if(g.N.production){const t=(new e.WM).set("content-type","application/json");this.http.get(`${g.N.apiServer}datas_kits?page=1&idMM=${n}`,{headers:t}).subscribe(o=>{if(console.log(o),0!==o.length){const s={id:o[0].id,aCuirAv:o[0].ACuirAv,aDrapAv:o[0].ADrapAv,createdAt:o[0].createdAt,decongel:o[0].Decongel,designationSAP:o[0].DesignationSAP,idMM:o[0].idMM,lotSAP:o[0].LotSAP,peremptionMoins18:o[0].PeremptionMoins18,referenceSAP:o[0].ReferenceSAP,status:o[0].status,tackLife:o[0].TackLife,timeOut:o[0].TimeOut,updateAt:o[0].updateAt};console.log(s),i(s)}else a()},o=>{console.log(o),a()})}else i(c)})}isPerim(n,i){return console.log(n,i),n<i}kitIsInKits(n,i){return!(i.length<=0)&&i.every(a=>a.idMM===n.idMM)}getIri(n){return`/api/datas_kits/${n.id}`}}return l.\u0275fac=function(n){return new(n||l)(d.LFG(e.eN))},l.\u0275prov=d.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},6733:(_,m,r)=>{r.d(m,{n:()=>h});var e=r(4522),g=r(8260),d=r(865);let h=(()=>{class l{constructor(n){this.http=n}getToolByToolNumber(n){return new Promise((i,a)=>{const t=(new e.WM).set("content-type","application/json");this.http.get(`${g.N.apiServer}molding_tools?sapToolNumber=${n}`,{headers:t}).subscribe(o=>{if(console.log(o),1===o.length){const s=o[0];console.log(s),i(s)}else o.length>1?console.log("Il y a plus d'un outillage"):a()},o=>{console.log(o),a()})})}getIri(n){return`/api/molding_tools/${n.id}`}}return l.\u0275fac=function(n){return new(n||l)(d.LFG(e.eN))},l.\u0275prov=d.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},4775:(_,m,r)=>{r.d(m,{s:()=>n});var e=r(4522),g=r(8260),d=r(865),c=r(9922),h=r(6733),l=r(2048);let u=(()=>{class i{constructor(t){this.http=t}createPutRequest(t,o){const s=(new e.WM).append("Content-Type","application/json").append("Accept","application/json");return new Promise((f,p)=>{this.http.put(t,o,{headers:s}).subscribe(w=>{f(w)},w=>{console.error(w),p()})})}createGetRequest(t,o){}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(e.eN))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),n=(()=>{class i{constructor(t,o,s,f,p){this.kitService=t,this.moldingToolService=o,this.userService=s,this.requestService=f,this.http=p}saveMolding(t){return console.log(t),new Promise((o,s)=>{const f=(new e.WM).set("content-type","application/json");this.http.post(`${g.N.apiServer}moldings`,t,{headers:f}).subscribe(p=>{console.log(p),o(p)},p=>{console.error(p),s()})})}updateMolding(t){return console.log(t),this.requestService.createPutRequest(`${g.N.apiServer}moldings`,t)}updateDates(t){t.aCuireAv=null,t.aDraperAv=null,t.kits.forEach(o=>{(o.aCuirAv<t.aCuireAv||!t.aCuireAv)&&(t.aCuireAv=o.aCuirAv,t.matPolym=o),(o.aDrapAv<t.aDraperAv||!t.aDraperAv)&&(t.aDraperAv=o.aDrapAv,t.matDrap=o)})}moldingServerToMoldingObject(t){const o=[];return t.kits.forEach(s=>{let f=null;f={aCuirAv:s.ACuirAv,aDrapAv:s.ADrapAv,createdAt:s.createdAt,decongel:s.Decongel,designationSAP:s.DesignationSAP,id:s.id,idMM:s.idMM,lotSAP:s.LotSAP,peremptionMoins18:s.PeremptionMoins18,referenceSAP:s.ReferenceSAP,status:s.status,tackLife:s.TackLife,timeOut:s.TimeOut},o.push(f)}),t.kits=o,t}getMoldingById(t){return new Promise((o,s)=>{const f=(new e.WM).append("content-type","application/json");this.http.get(`${g.N.apiServer}moldings/${t}`,{headers:f}).subscribe(p=>{const w=[];p.kits.forEach(v=>{let A=null;A={aCuirAv:v.ACuirAv,aDrapAv:v.ADrapAv,createdAt:v.createdAt,decongel:v.Decongel,designationSAP:v.DesignationSAP,id:v.id,idMM:v.idMM,lotSAP:v.LotSAP,peremptionMoins18:v.PeremptionMoins18,referenceSAP:v.ReferenceSAP,status:v.status,tackLife:v.TackLife,timeOut:v.TimeOut},w.push(A)}),p.kits=w,console.log(p),o(p)},p=>{console.log(p),s()})})}toIri(t){return{id:t.id,kits:t.kits.map(o=>this.kitService.getIri(o)),moldingDay:t.moldingDay,moldingUser:this.userService.getIri(t.moldingUser),outillage:this.moldingToolService.getIri(t.outillage),aCuireAv:t.aCuireAv,aDraperAv:t.aDraperAv,matPolym:this.kitService.getIri(t.matPolym),matDrap:this.kitService.getIri(t.matDrap)}}}return i.\u0275fac=function(t){return new(t||i)(d.LFG(c.e),d.LFG(h.n),d.LFG(l.f),d.LFG(u),d.LFG(e.eN))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},1172:(_,m,r)=>{r.d(m,{Q:()=>l});var e=r(865),g=r(134),d=r(430),c=r(2651);function h(u,n){if(1&u){const i=e.EpF();e.TgZ(0,"ion-content"),e.TgZ(1,"ion-list"),e.TgZ(2,"ion-item"),e.TgZ(3,"ion-label"),e._uU(4,"Profil"),e.qZA(),e.qZA(),e.TgZ(5,"ion-item"),e.TgZ(6,"ion-label"),e._uU(7,"Pr\xe9f\xe9rences"),e.qZA(),e._UZ(8,"ion-icon",12),e.qZA(),e.TgZ(9,"ion-item",13),e.NdJ("click",function(){return e.CHM(i),e.oxw().logoutClick()}),e._UZ(10,"ion-icon",14),e.TgZ(11,"ion-label"),e._uU(12,"D\xe9connexion"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}let l=(()=>{class u{constructor(i,a){this.authService=i,this.router=a,this.isPopoverOpen=!1,this.user=this.authService.authUser}ngOnInit(){}logoutClick(){this.authService.logout().then(()=>{this.router.navigate(["/login"])})}navigateHome(){this.router.navigate(["/home"])}}return u.\u0275fac=function(i){return new(i||u)(e.Y36(g.e),e.Y36(d.F0))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-shared-user-header"]],inputs:{page:"page"},decls:17,vars:4,consts:[[3,"translucent"],["color","primary"],["slot","start"],["color","light"],["src","assets/images/logoDaherFondBleu.png",1,"ion-hide-sm-down","logo",3,"click"],[1,"ion-text-uppercase","ion-text-center"],["id","button-profil","color","light","slot","end","outline","",1,"ion-margin-end",3,"click"],["name","person-circle-outline"],["trigger","button-profil","alignment","end","side","bottom",3,"isOpen"],["slot","end","color","danger",1,"ion-hide-sm-down",3,"click"],["slot","end","name","log-out-outline"],[1,"ion-hide-md-down"],["name","settings-outline","slot","start"],["color","danger",1,"ion-hide-sm-up",3,"click"],["slot","start","name","log-out-outline"]],template:function(i,a){1&i&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar",1),e.TgZ(2,"ion-buttons",2),e._UZ(3,"ion-menu-button",3),e.TgZ(4,"ion-img",4),e.NdJ("click",function(){return a.navigateHome()}),e.qZA(),e.qZA(),e.TgZ(5,"ion-title",5),e._uU(6),e.qZA(),e.TgZ(7,"ion-chip",6),e.NdJ("click",function(){return a.isPopoverOpen=!a.isPopoverOpen}),e._UZ(8,"ion-icon",7),e.TgZ(9,"ion-label",3),e._uU(10),e.qZA(),e.qZA(),e.TgZ(11,"ion-popover",8),e.YNc(12,h,13,0,"ng-template"),e.qZA(),e.TgZ(13,"ion-button",9),e.NdJ("click",function(){return a.logoutClick()}),e._UZ(14,"ion-icon",10),e.TgZ(15,"ion-label",11),e._uU(16,"D\xe9connexion"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.Q6J("translucent",!1),e.xp6(6),e.Oqu(a.page),e.xp6(4),e.Oqu(null==a.user?null:a.user.username),e.xp6(1),e.Q6J("isOpen",a.isPopoverOpen))},directives:[c.Gu,c.sr,c.Sm,c.fG,c.Xz,c.wd,c.hM,c.gu,c.Q$,c.d8,c.YG,c.W2,c.q_,c.Ie],styles:[".logo[_ngcontent-%COMP%]{width:100px}"]}),u})()}}]);