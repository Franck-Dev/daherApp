"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{9318:(A,p,r)=>{r.d(p,{i:()=>e});const e=d=>d&&""!==d.dir?"rtl"===d.dir.toLowerCase():"rtl"===(null==document?void 0:document.dir.toLowerCase())},3620:(A,p,r)=>{r.r(p),r.d(p,{startFocusVisible:()=>u});const e="ion-focused",g=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],u=v=>{let a=[],c=!0;const o=v?v.shadowRoot:document,i=v||document.body,s=M=>{a.forEach(_=>_.classList.remove(e)),M.forEach(_=>_.classList.add(e)),a=M},t=()=>{c=!1,s([])},n=M=>{c=g.includes(M.key),c||s([])},l=M=>{if(c&&M.composedPath){const _=M.composedPath().filter(w=>!!w.classList&&w.classList.contains("ion-focusable"));s(_)}},h=()=>{o.activeElement===i&&s([])};return o.addEventListener("keydown",n),o.addEventListener("focusin",l),o.addEventListener("focusout",h),o.addEventListener("touchstart",t),o.addEventListener("mousedown",t),{destroy:()=>{o.removeEventListener("keydown",n),o.removeEventListener("focusin",l),o.removeEventListener("focusout",h),o.removeEventListener("touchstart",t),o.removeEventListener("mousedown",t)},setFocus:s}}},8107:(A,p,r)=>{r.d(p,{a:()=>e,b:()=>o,c:()=>d,d:()=>v,e:()=>i,f:()=>c,g:()=>a,h:()=>u,i:()=>g});const e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",v="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>"},5243:(A,p,r)=>{r.d(p,{c:()=>u});var e=r(4762),d=r(865),g=r(2651);let u=(()=>{class v{constructor(c){this.alertController=c}simpleAlert(c,o){return(0,e.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:c,message:o,buttons:[{text:"Fermer",role:"cancel",id:"cancel-button"}]})).present()})}}return v.\u0275fac=function(c){return new(c||v)(d.LFG(g.Br))},v.\u0275prov=d.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},9922:(A,p,r)=>{r.d(p,{e:()=>v});var e=r(4522),d=r(8260),g=r(865);const u=[{referenceSAP:7172242,designationSAP:"test Kit",idMM:"53454323-1",lotSAP:"",timeOut:12.456,tackLife:123.456,aCuirAv:new Date(2022,1,12),aDrapAv:new Date(2022,1,12),decongel:new Date,peremptionMoins18:new Date(2022,0,12)},{referenceSAP:7172345,designationSAP:"test Kit 2",idMM:"5348949-1",lotSAP:"",timeOut:12.456,tackLife:123.456,aCuirAv:new Date(2022,1,12),aDrapAv:new Date(2022,1,9),decongel:new Date,peremptionMoins18:new Date(2022,2,12)},{referenceSAP:7174567,designationSAP:"test Kit 3",idMM:"5343449-1",lotSAP:"",timeOut:12.456,tackLife:123.456,aCuirAv:new Date(2022,0,31),aDrapAv:new Date(2022,0,28),decongel:new Date,peremptionMoins18:new Date(2022,2,12)},{referenceSAP:7174567,designationSAP:"test Kit 4",idMM:"5379449-1",lotSAP:"",timeOut:12.456,tackLife:123.456,aCuirAv:new Date(2022,0,12),aDrapAv:new Date(2022,0,31),decongel:new Date,peremptionMoins18:new Date(2022,2,12)},{referenceSAP:7174567,designationSAP:"test Kit 5",idMM:"5337249-1",lotSAP:"",timeOut:12.456,tackLife:123.456,aCuirAv:new Date(2022,0,31),aDrapAv:new Date(2022,0,21),decongel:new Date,peremptionMoins18:new Date(2022,1,12)}];let v=(()=>{class a{constructor(o){this.http=o}getKitById(o){return new Promise((i,s)=>{if(d.N.production)i(u);else{const t=(new e.WM).set("content-type","application/json");this.http.get(`${d.N.apiServer}datas_kits?page=1&idMM=${o}`,{headers:t}).subscribe(n=>{if(console.log(n),0!==n.length){const l={id:n[0].id,aCuirAv:n[0].ACuirAv,aDrapAv:n[0].ADrapAv,createdAt:n[0].createdAt,decongel:n[0].Decongel,designationSAP:n[0].DesignationSAP,idMM:n[0].idMM,lotSAP:n[0].LotSAP,peremptionMoins18:n[0].PeremptionMoins18,referenceSAP:n[0].ReferenceSAP,status:n[0].status,tackLife:n[0].TackLife,timeOut:n[0].TimeOut,updateAt:n[0].updateAt};console.log(l),i(l)}else s()},n=>{console.log(n),s()})}})}isPerim(o,i){return new Date(o)<new Date(i)}kitIsInKits(o,i){return!(i.length<=0)&&i.every(s=>s.idMM===o.idMM)}getIri(o){return`/api/datas_kits/${o.id}`}}return a.\u0275fac=function(o){return new(o||a)(g.LFG(e.eN))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},6733:(A,p,r)=>{r.d(p,{n:()=>v});var e=r(4522),d=r(8260),g=r(865);let v=(()=>{class a{constructor(o){this.http=o}getToolByToolNumber(o){return new Promise((i,s)=>{const t=(new e.WM).set("content-type","application/json");this.http.get(`${d.N.apiServer}molding_tools?sapToolNumber=${o}`,{headers:t}).subscribe(n=>{if(console.log(n),1===n.length){const l=n[0];console.log(l),i(l)}else n.length>1?console.log("Il y a plus d'un outillage"):s()},n=>{console.log(n),s()})})}getAllTools(){return new Promise((o,i)=>{const s=(new e.WM).append("content-type","application/json");this.http.get(`${d.N.apiServer}molding_tools`,{headers:s}).subscribe(t=>{o(t)},t=>{console.log(t),i()})})}getIri(o){return`/api/molding_tools/${o.id}`}}return a.\u0275fac=function(o){return new(o||a)(g.LFG(e.eN))},a.\u0275prov=g.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},7143:(A,p,r)=>{r.d(p,{s:()=>o});var e=r(4522),d=r(8260),g=r(865),u=r(9922),v=r(6733),a=r(2048),c=r(3521);let o=(()=>{class i{constructor(t,n,l,h,m){this.kitService=t,this.moldingToolService=n,this.userService=l,this.requestService=h,this.http=m}saveMolding(t){return console.log(t),new Promise((n,l)=>{const h=(new e.WM).set("content-type","application/json");this.http.post(`${d.N.apiServer}moldings`,t,{headers:h}).subscribe(m=>{console.log(m),n(m)},m=>{console.error(m),l()})})}updateMolding(t){return console.log(t),this.requestService.createPutRequest(`${d.N.apiServer}moldings/${t.id}`,t)}updateDates(t){t.aCuireAv=null,t.aDraperAv=null,t.kits.forEach(n=>{(n.aCuirAv<t.aCuireAv||!t.aCuireAv)&&(t.aCuireAv=n.aCuirAv,t.matPolym=n),(n.aDrapAv<t.aDraperAv||!t.aDraperAv)&&(t.aDraperAv=n.aDrapAv,t.matDrap=n)})}moldingServerToMoldingObject(t){const n=[];return t.kits.forEach(l=>{let h=null;h={aCuirAv:l.ACuirAv,aDrapAv:l.ADrapAv,createdAt:l.createdAt,decongel:l.Decongel,designationSAP:l.DesignationSAP,id:l.id,idMM:l.idMM,lotSAP:l.LotSAP,peremptionMoins18:l.PeremptionMoins18,referenceSAP:l.ReferenceSAP,status:l.status,tackLife:l.TackLife,timeOut:l.TimeOut},n.push(h)}),t.kits=n,t}getMoldingById(t){return new Promise((n,l)=>{const h=(new e.WM).append("content-type","application/json");this.http.get(`${d.N.apiServer}moldings/${t}`,{headers:h}).subscribe(m=>{const M=[];m.kits.forEach(_=>{let w=null;w={aCuirAv:_.ACuirAv,aDrapAv:_.ADrapAv,createdAt:_.createdAt,decongel:_.Decongel,designationSAP:_.DesignationSAP,id:_.id,idMM:_.idMM,lotSAP:_.LotSAP,peremptionMoins18:_.PeremptionMoins18,referenceSAP:_.ReferenceSAP,status:_.status,tackLife:_.TackLife,timeOut:_.TimeOut},M.push(w)}),m.kits=M,console.log(m),n(m)},m=>{console.log(m),l()})})}toIri(t){return{id:t.id,kits:t.kits.map(n=>this.kitService.getIri(n)),moldingDay:t.moldingDay,createdBy:this.userService.getIri(t.createdBy),outillage:this.moldingToolService.getIri(t.outillage),aCuireAv:t.aCuireAv,aDraperAv:t.aDraperAv,matPolym:this.kitService.getIri(t.matPolym),matDrap:this.kitService.getIri(t.matDrap)}}}return i.\u0275fac=function(t){return new(t||i)(g.LFG(u.e),g.LFG(v.n),g.LFG(a.f),g.LFG(c.s),g.LFG(e.eN))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},2048:(A,p,r)=>{r.d(p,{f:()=>v});var e=r(4522),d=r(865),g=r(3521);let v=(()=>{class a{constructor(o,i){this.http=o,this.requestService=i}getUserById(o){return new Promise((i,s)=>{(new e.WM).set("content-type","application/json"),this.requestService.createGetRequest(`users/${o}`).then(n=>{console.log(n),0!==n.length?i(n):s()},n=>{console.log(n),s()})})}getUsers(){return new Promise((o,i)=>{(new e.WM).set("content-type","application/json"),this.requestService.createGetRequest("users").then(t=>{console.log(t),0!==t.length?o(t):i()},t=>{console.log(t),i()})})}registerUser(o){return this.requestService.createPostRequest("users",o)}getIri(o){return`/api/users/${o.id}`}}return a.\u0275fac=function(o){return new(o||a)(d.LFG(e.eN),d.LFG(g.s))},a.\u0275prov=d.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},1172:(A,p,r)=>{r.d(p,{Q:()=>a});var e=r(865),d=r(134),g=r(430),u=r(2651);function v(c,o){if(1&c){const i=e.EpF();e.TgZ(0,"ion-content"),e.TgZ(1,"ion-list"),e.TgZ(2,"ion-item"),e.TgZ(3,"ion-label"),e._uU(4,"Profil"),e.qZA(),e.qZA(),e.TgZ(5,"ion-item"),e.TgZ(6,"ion-label"),e._uU(7,"Pr\xe9f\xe9rences"),e.qZA(),e._UZ(8,"ion-icon",12),e.qZA(),e.TgZ(9,"ion-item",13),e.NdJ("click",function(){return e.CHM(i),e.oxw().logoutClick()}),e._UZ(10,"ion-icon",14),e.TgZ(11,"ion-label"),e._uU(12,"D\xe9connexion"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}let a=(()=>{class c{constructor(i,s){this.authService=i,this.router=s,this.isPopoverOpen=!1,this.user=this.authService.authUser}ngOnInit(){}logoutClick(){this.authService.logout().then(()=>{this.router.navigate(["/login"])})}navigateHome(){this.router.navigate(["/home"])}}return c.\u0275fac=function(i){return new(i||c)(e.Y36(d.e),e.Y36(g.F0))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-shared-user-header"]],inputs:{page:"page"},decls:17,vars:4,consts:[[3,"translucent"],["color","primary"],["slot","start"],["color","light"],["src","assets/images/logoDaherFondBleu.png",1,"ion-hide-sm-down","logo",3,"click"],[1,"ion-text-uppercase","ion-text-center"],["id","button-profil","color","light","slot","end","outline","",1,"ion-margin-end",3,"click"],["name","person-circle-outline"],["trigger","button-profil","alignment","end","side","bottom",3,"isOpen"],["slot","end","color","danger",1,"ion-hide-sm-down",3,"click"],["slot","end","name","log-out-outline"],[1,"ion-hide-md-down"],["name","settings-outline","slot","start"],["color","danger",1,"ion-hide-sm-up",3,"click"],["slot","start","name","log-out-outline"]],template:function(i,s){1&i&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar",1),e.TgZ(2,"ion-buttons",2),e._UZ(3,"ion-menu-button",3),e.TgZ(4,"ion-img",4),e.NdJ("click",function(){return s.navigateHome()}),e.qZA(),e.qZA(),e.TgZ(5,"ion-title",5),e._uU(6),e.qZA(),e.TgZ(7,"ion-chip",6),e.NdJ("click",function(){return s.isPopoverOpen=!s.isPopoverOpen}),e._UZ(8,"ion-icon",7),e.TgZ(9,"ion-label",3),e._uU(10),e.qZA(),e.qZA(),e.TgZ(11,"ion-popover",8),e.YNc(12,v,13,0,"ng-template"),e.qZA(),e.TgZ(13,"ion-button",9),e.NdJ("click",function(){return s.logoutClick()}),e._UZ(14,"ion-icon",10),e.TgZ(15,"ion-label",11),e._uU(16,"D\xe9connexion"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.Q6J("translucent",!1),e.xp6(6),e.Oqu(s.page),e.xp6(4),e.Oqu(null==s.user?null:s.user.username),e.xp6(1),e.Q6J("isOpen",s.isPopoverOpen))},directives:[u.Gu,u.sr,u.Sm,u.fG,u.Xz,u.wd,u.hM,u.gu,u.Q$,u.d8,u.YG,u.W2,u.q_,u.Ie],styles:[".logo[_ngcontent-%COMP%]{width:100px}"]}),c})()}}]);