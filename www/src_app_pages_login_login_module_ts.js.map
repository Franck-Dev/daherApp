{"version":3,"file":"src_app_pages_login_login_module_ts.js","mappings":"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","sources":["./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.ts","./src/app/pages/login/login.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes),\n  ],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule { }\n","import { AfterViewInit, Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { AuthService } from 'src/app/_services/users/auth.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit, AfterViewInit {\n  public loginForm: FormGroup;\n\n  constructor(\n    private authService: AuthService,\n    private formBuilder: FormBuilder,\n    private router: Router,\n    private alertController: AlertController,\n    private loadingController: LoadingController\n  ) {\n    this.loginForm = this.formBuilder.group({\n      userName: ['34567', Validators.required],\n      password: ['test', Validators.required]\n    });\n  }\n  ngAfterViewInit(): void {\n    this.onSubmit();\n  }\n\n  ngOnInit() {\n\n  }\n\n  onSubmit() {\n    this.login();\n  }\n\n  async presentAlertConfirm() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Erreur d\\'authentification',\n      message: 'Le nom d\\'utilisateur ou votre mot de passe n\\'est pas correct',\n      buttons: [\n        {\n          text: 'Fermer',\n          role: 'cancel',\n          id: 'cancel-button',\n        }\n      ]\n    });\n\n    await alert.present();\n\n  }\n\n  async login() {\n    const loading = await this.loadingController.create({\n      cssClass: 'my-custom-class',\n      message: 'Patienter pendant la connexion',\n      spinner: 'lines-sharp'\n    });\n    await loading.present();\n    console.log('loading');\n    setTimeout(() => {\n      this.authService.authenticate(\n        this.loginForm.get('userName').value,\n        this.loginForm.get('password').value)\n        .then(() => {\n          this.loginForm.reset();\n          this.router.navigate(['/home']);\n        },\n          () => {\n            this.presentAlertConfirm();\n          },\n        )\n        .finally(() => {\n          loading.dismiss();\n        });\n    }, 2000);\n  }\n}\n","export default \"<!-- <ion-header>\\n    <ion-toolbar>\\n        <ion-title>Connection</ion-title>\\n    </ion-toolbar>\\n</ion-header> -->\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n    <ion-grid fixed class=\\\"full-height ion-align-items-center ion-justify-content-center\\\">\\n        <ion-row>\\n            <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"onSubmit()\\\" (keyup.enter)=\\\"onSubmit()\\\">\\n                <ion-item>\\n                    <ion-label position=\\\"floating\\\">Nom d'utilisateur\\n                        <ion-text color=\\\"danger\\\">*</ion-text>\\n                    </ion-label>\\n                    <ion-input required formControlName=\\\"userName\\\" type=\\\"text\\\"></ion-input>\\n                </ion-item>\\n                <ion-item>\\n                    <ion-label position=\\\"floating\\\">Password\\n                        <ion-text color=\\\"danger\\\">*</ion-text>\\n                    </ion-label>\\n                    <ion-input required formControlName=\\\"password\\\" type=\\\"password\\\" value=\\\"123\\\"></ion-input>\\n                </ion-item>\\n                <ion-button block color=\\\"primary\\\" type=\\\"submit\\\" [disabled]=\\\"loginForm.invalid\\\">\\n                    Se connecter\\n                </ion-button>\\n                <ion-button fill=\\\"clear\\\" [routerLink]=\\\"['/register']\\\"> Cr√©er un compte\\n                </ion-button>\\n            </form>\\n        </ion-row>\\n    </ion-grid>\\n\\n\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}