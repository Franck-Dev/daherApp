{"version":3,"file":"src_app__services_tools_tool_service_ts-src_app__services_users_users_service_ts-src_app_page-b7e581.js","mappings":"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","sources":["./src/app/_services/tools/tool.service.ts","./src/app/_services/users/users.service.ts","./src/app/pages/tool-request/tool-list/tool-list-routing.module.ts","./src/app/pages/tool-request/tool-list/tool-list.module.ts","./src/app/pages/tool-request/tool-list/tool-list.page.ts","./src/app/pages/tool-request/tool-list/tool-list.page.html"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Tool } from 'src/app/_interface/tool';\nimport { environment } from 'src/environments/environment';\nimport { RequestService } from '../request.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ToolService {\n\n  constructor(\n    private http: HttpClient,\n    private requestService: RequestService\n  ) { }\n\n  getToolByToolNumber(toolNumber: string) {\n    return new Promise((resolve, reject) => {\n      const httpHeaders = new HttpHeaders()\n        .set('content-type', 'application/json');\n      this.http.get(`${environment.apiServer}molding_tools?sapToolNumber=${toolNumber}`, { headers: httpHeaders })\n        .subscribe((returnsData: any) => {\n          console.log(returnsData);\n          if (returnsData.length === 1) {\n            const returnMoldingTool: Tool = returnsData[0];\n            console.log(returnMoldingTool);\n            resolve(returnMoldingTool);\n          } else if (returnsData.length > 1) {\n            console.log('Il y a plus d\\'un outillage');\n          } else {\n            reject();\n          }\n        },\n          (error) => {\n            console.log(error);\n            reject();\n          });\n    });\n  }\n\n  getAllTools() {\n    return new Promise((resolve, reject) => {\n      const httpHeaders = new HttpHeaders()\n        .append('content-type', 'application/json');\n      // .append('Access-Control-Allow-Origins', 'http://localhost:8100/')\n      // .append('Access-Control-Allow-methods', 'GET, OPTIONS, POST, PUT, PATCH, DELETE');\n      this.http.get(`${environment.apiServer}molding_tools`, { headers: httpHeaders })\n        .subscribe((returnsData: any) => {\n          resolve(returnsData);\n        },\n          (error) => {\n            console.log(error);\n            reject();\n          });\n    });\n  }\n  getIri(moldingTool: Tool): string {\n    return `/api/tools/${moldingTool.id}`;\n  }\n\n  createTool(toolToCreate: Tool) {\n    const tool: any = toolToCreate;\n    tool.sapToolNumber = parseInt(toolToCreate.sapToolNumber.substring(2), 10);\n    return this.requestService.createPostRequest(environment.toolApi + 'tools', tool);\n  }\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { User } from 'src/app/_interface/user';\r\nimport { environment } from 'src/environments/environment';\r\nimport { RequestService } from '../request.service';\r\n\r\nconst JORIS: User = {\r\n  id: 1,\r\n  username: 'j.grangier',\r\n  mail: 'j.grangier@daher.com',\r\n  matricule: 204292,\r\n  nom: 'GRANGIER',\r\n  prenom: 'JORIS',\r\n  roles: ['COMPAGNON']\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UsersService {\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private requestService: RequestService) { }\r\n\r\n  getUserById(idUser: number) {\r\n    return new Promise<User>((resolve, reject) => {\r\n      const httpHeaders = new HttpHeaders()\r\n        .set('content-type', 'application/json');\r\n      this.requestService.createGetRequest(environment.moldingApi + `users/${idUser}`)\r\n        .then((returnsData: any) => {\r\n          console.log(returnsData);\r\n          if (returnsData.length !== 0) {\r\n            resolve(returnsData);\r\n          } else {\r\n            reject();\r\n          }\r\n        },\r\n          (error) => {\r\n            console.log(error);\r\n            reject();\r\n          });\r\n    });\r\n  }\r\n\r\n  getUsers() {\r\n    return new Promise<User[]>((resolve, reject) => {\r\n      this.requestService.createGetRequest(environment.moldingApi + `users`)\r\n        .then((returnsData: any) => {\r\n          console.log(returnsData);\r\n          if (returnsData.length !== 0) {\r\n            resolve(returnsData);\r\n          } else {\r\n            reject();\r\n          }\r\n        },\r\n          (error) => {\r\n            console.log(error);\r\n            reject();\r\n          });\r\n    });\r\n  }\r\n\r\n  registerUser(userObj: User) {\r\n    return this.requestService.createPostRequest(environment.moldingApi + 'users', userObj);\r\n  }\r\n\r\n  getIri(user: User): string {\r\n    return `/api/users/${user.id}`;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ToolListPage } from './tool-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ToolListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ToolListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ToolListPageRoutingModule } from './tool-list-routing.module';\n\nimport { ToolListPage } from './tool-list.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ToolListPageRoutingModule\n  ],\n  declarations: [ToolListPage]\n})\nexport class ToolListPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ToolRequest } from 'src/app/_interface/tool-request';\nimport { ToolRequestService } from 'src/app/_services/toolRequest/tool-request.service';\n\n@Component({\n  selector: 'app-tool-list',\n  templateUrl: './tool-list.page.html',\n  styleUrls: ['./tool-list.page.scss'],\n})\nexport class ToolListPage implements OnInit {\n\n  constructor(private toolRequestService: ToolRequestService) { }\n\n  ngOnInit() {\n\n  }\n\n\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>toolList</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}