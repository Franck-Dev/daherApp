"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{9318:(f,p,r)=>{r.d(p,{i:()=>e});const e=u=>u&&""!==u.dir?"rtl"===u.dir.toLowerCase():"rtl"===(null==document?void 0:document.dir.toLowerCase())},3620:(f,p,r)=>{r.r(p),r.d(p,{startFocusVisible:()=>a});const e="ion-focused",d=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],a=c=>{let _=[],o=!0;const n=c?c.shadowRoot:document,s=c||document.body,l=M=>{_.forEach(g=>g.classList.remove(e)),M.forEach(g=>g.classList.add(e)),_=M},t=()=>{o=!1,l([])},i=M=>{o=d.includes(M.key),o||l([])},v=M=>{if(o&&M.composedPath){const g=M.composedPath().filter(w=>!!w.classList&&w.classList.contains("ion-focusable"));l(g)}},m=()=>{n.activeElement===s&&l([])};return n.addEventListener("keydown",i),n.addEventListener("focusin",v),n.addEventListener("focusout",m),n.addEventListener("touchstart",t),n.addEventListener("mousedown",t),{destroy:()=>{n.removeEventListener("keydown",i),n.removeEventListener("focusin",v),n.removeEventListener("focusout",m),n.removeEventListener("touchstart",t),n.removeEventListener("mousedown",t)},setFocus:l}}},8107:(f,p,r)=>{r.d(p,{a:()=>e,b:()=>n,c:()=>u,d:()=>c,e:()=>s,f:()=>o,g:()=>_,h:()=>a,i:()=>d});const e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>"},5243:(f,p,r)=>{r.d(p,{c:()=>a});var e=r(4762),u=r(865),d=r(2651);let a=(()=>{class c{constructor(o){this.alertController=o}simpleAlert(o,n){return(0,e.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"my-custom-class",header:o,message:n,buttons:[{text:"Fermer",role:"cancel",id:"cancel-button"}]})).present()})}}return c.\u0275fac=function(o){return new(o||c)(u.LFG(d.Br))},c.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},9922:(f,p,r)=>{r.d(p,{e:()=>a});var e=r(4522),u=r(8260),d=r(865);let a=(()=>{class c{constructor(o){this.http=o}getKitById(o){return new Promise((n,s)=>{const l=(new e.WM).set("content-type","application/json");this.http.get(`${u.N.apiServer}datas_kits?page=1&idMM=${o}`,{headers:l}).subscribe(t=>{if(console.log(t),0!==t.length){const i={id:t[0].id,aCuirAv:t[0].ACuirAv,aDrapAv:t[0].ADrapAv,createdAt:t[0].createdAt,decongel:t[0].Decongel,designationSAP:t[0].DesignationSAP,idMM:t[0].idMM,lotSAP:t[0].LotSAP,peremptionMoins18:t[0].PeremptionMoins18,referenceSAP:t[0].ReferenceSAP,status:t[0].status,tackLife:t[0].TackLife,timeOut:t[0].TimeOut,updateAt:t[0].updateAt};console.log(i),n(i)}else s()},t=>{console.log(t),s()})})}isPerim(o,n){return new Date(o)<new Date(n)}kitIsInKits(o,n){return!(n.length<=0)&&n.every(s=>s.idMM===o.idMM)}getIri(o){return`/api/datas_kits/${o.id}`}}return c.\u0275fac=function(o){return new(o||c)(d.LFG(e.eN))},c.\u0275prov=d.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},6733:(f,p,r)=>{r.d(p,{n:()=>a});var e=r(4522),u=r(8260),d=r(865);let a=(()=>{class c{constructor(o){this.http=o}getToolByToolNumber(o){return new Promise((n,s)=>{const l=(new e.WM).set("content-type","application/json");this.http.get(`${u.N.apiServer}molding_tools?sapToolNumber=${o}`,{headers:l}).subscribe(t=>{if(console.log(t),1===t.length){const i=t[0];console.log(i),n(i)}else t.length>1?console.log("Il y a plus d'un outillage"):s()},t=>{console.log(t),s()})})}getAllTools(){return new Promise((o,n)=>{const s=(new e.WM).append("content-type","application/json");this.http.get(`${u.N.apiServer}molding_tools`,{headers:s}).subscribe(l=>{o(l)},l=>{console.log(l),n()})})}getIri(o){return`/api/molding_tools/${o.id}`}}return c.\u0275fac=function(o){return new(o||c)(d.LFG(e.eN))},c.\u0275prov=d.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},7143:(f,p,r)=>{r.d(p,{s:()=>n});var e=r(4522),u=r(8260),d=r(865),a=r(9922),c=r(6733),_=r(2048),o=r(3521);let n=(()=>{class s{constructor(t,i,v,m,h){this.kitService=t,this.moldingToolService=i,this.userService=v,this.requestService=m,this.http=h}saveMolding(t){return console.log(t),new Promise((i,v)=>{const m=(new e.WM).set("content-type","application/json");this.http.post(`${u.N.apiServer}moldings`,t,{headers:m}).subscribe(h=>{console.log(h),i(h)},h=>{console.error(h),v()})})}updateMolding(t){return console.log(t),this.requestService.createPutRequest(`${u.N.apiServer}moldings/${t.id}`,t)}updateDates(t){t.aCuireAv=null,t.aDraperAv=null,t.kits.forEach(i=>{(i.aCuirAv<t.aCuireAv||!t.aCuireAv)&&(t.aCuireAv=i.aCuirAv,t.matPolym=i),(i.aDrapAv<t.aDraperAv||!t.aDraperAv)&&(t.aDraperAv=i.aDrapAv,t.matDrap=i)})}moldingServerToMoldingObject(t){const i=[];return t.kits.forEach(v=>{let m=null;m={aCuirAv:v.ACuirAv,aDrapAv:v.ADrapAv,createdAt:v.createdAt,decongel:v.Decongel,designationSAP:v.DesignationSAP,id:v.id,idMM:v.idMM,lotSAP:v.LotSAP,peremptionMoins18:v.PeremptionMoins18,referenceSAP:v.ReferenceSAP,status:v.status,tackLife:v.TackLife,timeOut:v.TimeOut},i.push(m)}),t.kits=i,t}getMoldingById(t){return new Promise((i,v)=>{const m=(new e.WM).append("content-type","application/json");this.http.get(`${u.N.apiServer}moldings/${t}`,{headers:m}).subscribe(h=>{const M=[];h.kits.forEach(g=>{let w=null;w={aCuirAv:g.ACuirAv,aDrapAv:g.ADrapAv,createdAt:g.createdAt,decongel:g.Decongel,designationSAP:g.DesignationSAP,id:g.id,idMM:g.idMM,lotSAP:g.LotSAP,peremptionMoins18:g.PeremptionMoins18,referenceSAP:g.ReferenceSAP,status:g.status,tackLife:g.TackLife,timeOut:g.TimeOut},M.push(w)}),h.kits=M,console.log(h),i(h)},h=>{console.log(h),v()})})}toIri(t){return{id:t.id,kits:t.kits.map(i=>this.kitService.getIri(i)),moldingDay:t.moldingDay,createdBy:this.userService.getIri(t.createdBy),outillage:this.moldingToolService.getIri(t.outillage),aCuireAv:t.aCuireAv,aDraperAv:t.aDraperAv,matPolym:this.kitService.getIri(t.matPolym),matDrap:this.kitService.getIri(t.matDrap)}}}return s.\u0275fac=function(t){return new(t||s)(d.LFG(a.e),d.LFG(c.n),d.LFG(_.f),d.LFG(o.s),d.LFG(e.eN))},s.\u0275prov=d.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},2048:(f,p,r)=>{r.d(p,{f:()=>c});var e=r(4522),u=r(865),d=r(3521);let c=(()=>{class _{constructor(n,s){this.http=n,this.requestService=s}getUserById(n){return new Promise((s,l)=>{(new e.WM).set("content-type","application/json"),this.requestService.createGetRequest(`users/${n}`).then(i=>{console.log(i),0!==i.length?s(i):l()},i=>{console.log(i),l()})})}getUsers(){return new Promise((n,s)=>{(new e.WM).set("content-type","application/json"),this.requestService.createGetRequest("users").then(t=>{console.log(t),0!==t.length?n(t):s()},t=>{console.log(t),s()})})}registerUser(n){return this.requestService.createPostRequest("users",n)}getIri(n){return`/api/users/${n.id}`}}return _.\u0275fac=function(n){return new(n||_)(u.LFG(e.eN),u.LFG(d.s))},_.\u0275prov=u.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},1172:(f,p,r)=>{r.d(p,{Q:()=>_});var e=r(865),u=r(6607),d=r(430),a=r(2651);function c(o,n){if(1&o){const s=e.EpF();e.TgZ(0,"ion-content"),e.TgZ(1,"ion-list"),e.TgZ(2,"ion-item"),e.TgZ(3,"ion-label"),e._uU(4,"Profil"),e.qZA(),e.qZA(),e.TgZ(5,"ion-item"),e.TgZ(6,"ion-label"),e._uU(7,"Pr\xe9f\xe9rences"),e.qZA(),e._UZ(8,"ion-icon",12),e.qZA(),e.TgZ(9,"ion-item",13),e.NdJ("click",function(){return e.CHM(s),e.oxw().logoutClick()}),e._UZ(10,"ion-icon",14),e.TgZ(11,"ion-label"),e._uU(12,"D\xe9connexion"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}}let _=(()=>{class o{constructor(s,l){this.authService=s,this.router=l,this.isPopoverOpen=!1,this.user=this.authService.authUser}ngOnInit(){}logoutClick(){this.authService.logout().then(()=>{this.router.navigate(["/login"])})}navigateHome(){this.router.navigate(["/home"])}}return o.\u0275fac=function(s){return new(s||o)(e.Y36(u.e),e.Y36(d.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-shared-user-header"]],inputs:{page:"page"},decls:17,vars:4,consts:[[3,"translucent"],["color","primary"],["slot","start"],["color","light"],["src","assets/images/logoDaherFondBleu.png",1,"ion-hide-sm-down","logo",3,"click"],[1,"ion-text-uppercase","ion-text-center"],["id","button-profil","color","light","slot","end","outline","",1,"ion-margin-end",3,"click"],["name","person-circle-outline"],["trigger","button-profil","alignment","end","side","bottom",3,"isOpen"],["slot","end","color","danger",1,"ion-hide-sm-down",3,"click"],["slot","end","name","log-out-outline"],[1,"ion-hide-md-down"],["name","settings-outline","slot","start"],["color","danger",1,"ion-hide-sm-up",3,"click"],["slot","start","name","log-out-outline"]],template:function(s,l){1&s&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar",1),e.TgZ(2,"ion-buttons",2),e._UZ(3,"ion-menu-button",3),e.TgZ(4,"ion-img",4),e.NdJ("click",function(){return l.navigateHome()}),e.qZA(),e.qZA(),e.TgZ(5,"ion-title",5),e._uU(6),e.qZA(),e.TgZ(7,"ion-chip",6),e.NdJ("click",function(){return l.isPopoverOpen=!l.isPopoverOpen}),e._UZ(8,"ion-icon",7),e.TgZ(9,"ion-label",3),e._uU(10),e.qZA(),e.qZA(),e.TgZ(11,"ion-popover",8),e.YNc(12,c,13,0,"ng-template"),e.qZA(),e.TgZ(13,"ion-button",9),e.NdJ("click",function(){return l.logoutClick()}),e._UZ(14,"ion-icon",10),e.TgZ(15,"ion-label",11),e._uU(16,"D\xe9connexion"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&s&&(e.Q6J("translucent",!1),e.xp6(6),e.Oqu(l.page),e.xp6(4),e.Oqu(null==l.user?null:l.user.username),e.xp6(1),e.Q6J("isOpen",l.isPopoverOpen))},directives:[a.Gu,a.sr,a.Sm,a.fG,a.Xz,a.wd,a.hM,a.gu,a.Q$,a.d8,a.YG,a.W2,a.q_,a.Ie],styles:[".logo[_ngcontent-%COMP%]{width:100px}"]}),o})()}}]);