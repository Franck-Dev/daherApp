{"version":3,"file":"default-src_app__services_moldings_molding_service_ts.js","mappings":"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","sources":["./src/app/_services/kits/kit.service.ts","./src/app/_services/moldings/molding.service.ts","./src/app/_services/tools/tool.service.ts"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Kit } from 'src/app/_interface/kit';\nimport { environment } from 'src/environments/environment';\n\n// const KIT: any[] = [\n//   {\n//     referenceSAP: 7172242,\n//     designationSAP: 'test Kit',\n//     idMM: '53454323-1',\n//     lotSAP: '',\n//     timeOut: 12.456,\n//     tackLife: 123.456,\n//     aCuirAv: new Date(2022, 1, 12),\n//     aDrapAv: new Date(2022, 1, 12),\n//     decongel: new Date(),\n//     peremptionMoins18: new Date(2022, 0, 12)\n//   },\n//   {\n//     referenceSAP: 7172345,\n//     designationSAP: 'test Kit 2',\n//     idMM: '5348949-1',\n//     lotSAP: '',\n//     timeOut: 12.456,\n//     tackLife: 123.456,\n//     aCuirAv: new Date(2022, 1, 12),\n//     aDrapAv: new Date(2022, 1, 9),\n//     decongel: new Date(),\n//     peremptionMoins18: new Date(2022, 2, 12)\n//   },\n//   {\n//     referenceSAP: 7174567,\n//     designationSAP: 'test Kit 3',\n//     idMM: '5343449-1',\n//     lotSAP: '',\n//     timeOut: 12.456,\n//     tackLife: 123.456,\n//     aCuirAv: new Date(2022, 0, 31),\n//     aDrapAv: new Date(2022, 0, 28),\n//     decongel: new Date(),\n//     peremptionMoins18: new Date(2022, 2, 12)\n//   },\n//   {\n//     referenceSAP: 7174567,\n//     designationSAP: 'test Kit 4',\n//     idMM: '5379449-1',\n//     lotSAP: '',\n//     timeOut: 12.456,\n//     tackLife: 123.456,\n//     aCuirAv: new Date(2022, 0, 12),\n//     aDrapAv: new Date(2022, 0, 31),\n//     decongel: new Date(),\n//     peremptionMoins18: new Date(2022, 2, 12)\n//   },\n//   {\n//     referenceSAP: 7174567,\n//     designationSAP: 'test Kit 5',\n//     idMM: '5337249-1',\n//     lotSAP: '',\n//     timeOut: 12.456,\n//     tackLife: 123.456,\n//     aCuirAv: new Date(2022, 0, 31),\n//     aDrapAv: new Date(2022, 0, 21),\n//     decongel: new Date(),\n//     peremptionMoins18: new Date(2022, 1, 12)\n//   }];\n@Injectable({\n  providedIn: 'root'\n})\nexport class KitService {\n\n  constructor(private http: HttpClient) { }\n\n  getKitById(id: string) {\n    return new Promise((resolve, reject) => {\n      const httpHeaders = new HttpHeaders()\n        .set('content-type', 'application/json');\n      this.http.get(`${environment.apiServer}datas_kits?page=1&idMM=${id}`, { headers: httpHeaders })\n        .subscribe((returnsData: any) => {\n          console.log(returnsData);\n          if (returnsData.length !== 0) {\n            const returnKit: Kit = {\n              id: returnsData[0].id,\n              aCuirAv: returnsData[0].ACuirAv,\n              aDrapAv: returnsData[0].ADrapAv,\n              createdAt: returnsData[0].createdAt,\n              decongel: returnsData[0].Decongel,\n              designationSAP: returnsData[0].DesignationSAP,\n              idMM: returnsData[0].idMM,\n              lotSAP: returnsData[0].LotSAP,\n              peremptionMoins18: returnsData[0].PeremptionMoins18,\n              referenceSAP: returnsData[0].ReferenceSAP,\n              status: returnsData[0].status,\n              tackLife: returnsData[0].TackLife,\n              timeOut: returnsData[0].TimeOut,\n              updateAt: returnsData[0].updateAt\n            };\n            console.log(returnKit);\n            // this.updateDates(MOLDING);\n            resolve(returnKit);\n          } else {\n            reject();\n          }\n        },\n          (error) => {\n            console.log(error);\n            reject();\n          });\n    });\n  }\n\n\n  isPerim(dateToCheck: Date, baseDate: Date): boolean {\n    return (new Date(dateToCheck) < new Date(baseDate));\n  }\n\n  /**\n   * test si kit déjà dans le moulage\n   *\n   * @param {Kit} kitToTest\n   * @param {Kit[]} kits\n   * @return {*}  {boolean}\n   * @memberof KitService\n   */\n  kitIsInKits(kitToTest: Kit, kits: Kit[]): boolean {\n    if (kits.length <= 0) {\n      return false;\n    }\n    return kits.every(kit => kit.idMM === kitToTest.idMM);\n  }\n\n  getIri(kit: Kit): string {\n    return `/api/datas_kits/${kit.id}`;\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { Kit } from 'src/app/_interface/kit';\r\nimport { Molding, MoldingIri } from 'src/app/_interface/molding';\r\nimport { HttpClient, HttpHeaders, HttpParams, HttpResponse } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\nimport { KitService } from '../kits/kit.service';\r\nimport { ToolService } from '../tools/tool.service';\r\nimport { UsersService } from '../users/users.service';\r\nimport { RequestService } from '../request.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class MoldingService {\r\n  public molding: Molding;\r\n  constructor(\r\n    private kitService: KitService,\r\n    private toolService: ToolService,\r\n    private userService: UsersService,\r\n    private requestService: RequestService,\r\n    private http: HttpClient) {\r\n  }\r\n  saveMolding(moldingObject: MoldingIri) {\r\n    console.log(moldingObject);\r\n    return new Promise<Molding>((resolve, reject) => {\r\n      const httpHeaders = new HttpHeaders()\r\n        .set('content-type', 'application/json');\r\n      // .set('Access-Control-Allow-Credentials', 'true');\r\n      this.http.post(environment.apiServer + environment.moldingApi, moldingObject, { headers: httpHeaders })\r\n        .subscribe((returnsData: any) => {\r\n          console.log(returnsData);\r\n          resolve(returnsData);\r\n        },\r\n          (error) => {\r\n            console.error(error);\r\n            reject();\r\n          });\r\n    });\r\n  }\r\n\r\n  updateMolding(moldingObject: MoldingIri): Promise<Molding> {\r\n    console.log(moldingObject);\r\n    const url = environment.moldingApi + moldingObject.id;\r\n    return this.requestService.createPutRequest(url, moldingObject);\r\n  }\r\n\r\n  updateDates(molding: Molding): void {\r\n    molding.aCuireAv = null;\r\n    molding.aDraperAv = null;\r\n    molding.kits.forEach((kit: Kit) => {\r\n      if (kit.aCuirAv < molding.aCuireAv || !molding.aCuireAv) {\r\n        molding.aCuireAv = kit.aCuirAv;\r\n        molding.matPolym = kit;\r\n      }\r\n\r\n      if (kit.aDrapAv < molding.aDraperAv || !molding.aDraperAv) {\r\n        molding.aDraperAv = kit.aDrapAv;\r\n        molding.matDrap = kit;\r\n      }\r\n    });\r\n  }\r\n\r\n  moldingServerToMoldingObject(moldingToTransform: any): Molding {\r\n    const newListKit: Kit[] = [];\r\n    moldingToTransform.kits.forEach(kitApi => {\r\n      let newKit: Kit = null;\r\n      newKit = {\r\n        aCuirAv: kitApi.ACuirAv,\r\n        aDrapAv: kitApi.ADrapAv,\r\n        createdAt: kitApi.createdAt,\r\n        decongel: kitApi.Decongel,\r\n        designationSAP: kitApi.DesignationSAP,\r\n        id: kitApi.id,\r\n        idMM: kitApi.idMM,\r\n        lotSAP: kitApi.LotSAP,\r\n        peremptionMoins18: kitApi.PeremptionMoins18,\r\n        referenceSAP: kitApi.ReferenceSAP,\r\n        status: kitApi.status,\r\n        tackLife: kitApi.TackLife,\r\n        timeOut: kitApi.TimeOut\r\n      };\r\n      newListKit.push(newKit);\r\n    });\r\n    moldingToTransform.kits = newListKit;\r\n    return moldingToTransform;\r\n  }\r\n\r\n  getMoldingById(id: string) {\r\n    return new Promise((resolve, reject) => {\r\n      this.requestService.createGetRequest(environment.moldingApi + 'moldings/' + id)\r\n        .then((returnsData: any) => {\r\n          const newListKit: Kit[] = [];\r\n          returnsData.kits.forEach(kitApi => {\r\n            let newKit: Kit = null;\r\n            newKit = {\r\n              aCuirAv: kitApi.ACuirAv,\r\n              aDrapAv: kitApi.ADrapAv,\r\n              createdAt: kitApi.createdAt,\r\n              decongel: kitApi.Decongel,\r\n              designationSAP: kitApi.DesignationSAP,\r\n              id: kitApi.id,\r\n              idMM: kitApi.idMM,\r\n              lotSAP: kitApi.LotSAP,\r\n              peremptionMoins18: kitApi.PeremptionMoins18,\r\n              referenceSAP: kitApi.ReferenceSAP,\r\n              status: kitApi.status,\r\n              tackLife: kitApi.TackLife,\r\n              timeOut: kitApi.TimeOut\r\n            };\r\n            newListKit.push(newKit);\r\n          });\r\n          returnsData.kits = newListKit;\r\n          console.log(returnsData);\r\n          resolve(returnsData);\r\n        },\r\n          (error) => {\r\n            console.log(error);\r\n            reject();\r\n          });\r\n    });\r\n  }\r\n\r\n  getMoldings() {\r\n    return this.requestService.createGetRequest(environment.moldingApi + 'moldings');\r\n  }\r\n\r\n  toIri(molding: Molding): MoldingIri {\r\n    return {\r\n      id: molding.id,\r\n      kits: molding.kits.map((kit: Kit) => this.kitService.getIri(kit)),\r\n      moldingDay: molding.moldingDay,\r\n      createdBy: this.userService.getIri(molding.createdBy),\r\n      outillage: this.toolService.getIri(molding.outillage),\r\n      aCuireAv: molding.aCuireAv,\r\n      aDraperAv: molding.aDraperAv,\r\n      matPolym: this.kitService.getIri(molding.matPolym),\r\n      matDrap: this.kitService.getIri(molding.matDrap),\r\n    };\r\n  }\r\n}\r\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Tool } from 'src/app/_interface/tool';\nimport { environment } from 'src/environments/environment';\nimport { RequestService } from '../request.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ToolService {\n\n  constructor(\n    private http: HttpClient,\n    private requestService: RequestService\n  ) { }\n\n  getToolByToolNumber(toolNumber: string) {\n    return new Promise((resolve, reject) => {\n      const httpHeaders = new HttpHeaders()\n        .set('content-type', 'application/json');\n      this.http.get(`${environment.apiServer}molding_tools?sapToolNumber=${toolNumber}`, { headers: httpHeaders })\n        .subscribe((returnsData: any) => {\n          console.log(returnsData);\n          if (returnsData.length === 1) {\n            const returnMoldingTool: Tool = returnsData[0];\n            console.log(returnMoldingTool);\n            resolve(returnMoldingTool);\n          } else if (returnsData.length > 1) {\n            console.log('Il y a plus d\\'un outillage');\n          } else {\n            reject();\n          }\n        },\n          (error) => {\n            console.log(error);\n            reject();\n          });\n    });\n  }\n\n  getAllTools() {\n    return new Promise((resolve, reject) => {\n      const httpHeaders = new HttpHeaders()\n        .append('content-type', 'application/json');\n      // .append('Access-Control-Allow-Origins', 'http://localhost:8100/')\n      // .append('Access-Control-Allow-methods', 'GET, OPTIONS, POST, PUT, PATCH, DELETE');\n      this.http.get(`${environment.apiServer}molding_tools`, { headers: httpHeaders })\n        .subscribe((returnsData: any) => {\n          resolve(returnsData);\n        },\n          (error) => {\n            console.log(error);\n            reject();\n          });\n    });\n  }\n  getIri(moldingTool: Tool): string {\n    return `/api/tools/${moldingTool.id}`;\n  }\n\n  createTool(toolToCreate: Tool) {\n    const tool: any = toolToCreate;\n    tool.sapToolNumber = parseInt(toolToCreate.sapToolNumber.substring(2), 10);\n    return this.requestService.createPostRequest(environment.toolApi + 'tools', tool);\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}